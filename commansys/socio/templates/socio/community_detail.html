{% extends "authenticate/base.html" %}

{% block body_content %}
<!-- Community Details -->
<div class="container">
    <div class="community-details">
        <h1>{{ community.name }}</h1>
        <!-- Display image -->
        <img src="{{ community.picture.url }}" alt="{{ community.name }}" style="max-width: 100%; height: auto;">

        <p>Description: {{ community.description }}</p>
        <!-- Display location -->
        <p>Location: {{ community.location }}</p>

        <!-- Button to join community -->
        {% if user.is_authenticated %}
            {% if not user.profile.communities.filter(pk=community.pk).exists %}
                <form method="post" action="{% url 'join_community' community.pk %}">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-primary">Join Community</button>
                </form>
            {% else %}
                <p>You are already a member of this community.</p>
            {% endif %}
        {% else %}
            <p><a href="{% url 'my-login' %}">Login</a> or <a href="{% url 'registerpage' %}">Register</a> to join this community.</p>
        {% endif %}
        
        <!-- Add more details as needed -->
    </div>
</div>
{% endblock %}
